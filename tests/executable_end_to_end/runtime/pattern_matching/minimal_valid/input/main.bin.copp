type Direction :: enum {
    North,
    South,
}

function describe(value: int64 | string) -> string {
    return match value {
        int64 => "int"
        string => "string"
    }
}

type Box[T] :: struct {
    value: T,
}

function genericApplicationMatches[T](value: T | int64) -> boolean {
    return value matches int64
}

function main() -> nil {
    print(describe(7))
    print(describe("ok"))

    probe: int64 | string := 7
    if probe matches int64 {
        print("is int64")
    }

    heading: Direction := Direction.North
    if heading matches Direction.North {
        print("north? yes")
    }
    label := match heading {
        Direction.North => "north"
        Direction.South => "south"
    }
    print(label)

    if genericApplicationMatches[string](7) {
        print("generic app true")
    } else {
        print("generic app false")
    }
    if genericApplicationMatches[string]("oops") {
        print("generic app true")
    } else {
        print("generic app false")
    }

    return nil
}
